const cats=[{id:0,img:"cat-1.png",price:3e4,discount:!0,age:2,sold:!1},{id:1,img:"cat-2.png",price:4e4,discount:!1,age:1,sold:!0},{id:2,img:"cat-3.png",price:2e4,discount:!1,age:4,sold:!1},{id:3,img:"cat-1.png",price:4e4,discount:!1,age:5,sold:!1},{id:4,img:"cat-3.png",price:4e4,discount:!0,age:2,sold:!0},{id:5,img:"cat-2.png",price:4e4,discount:!1,age:3,sold:!1}],headerNav=document.querySelector(".header__nav");function noJsCompatibility(){headerNav.classList.contains("header__nav--nojs")&&headerNav.classList.remove("header__nav--nojs")}noJsCompatibility();const navClosedButton=document.querySelector(".header__nav-closed-button"),navOpenedButton=document.querySelector(".header__nav-opened-button"),overlay=document.querySelector(".overlay");navClosedButton.addEventListener("click",(function(){headerNav.classList.add("header__nav--opened"),document.body.classList.add("no-scroll"),overlay.classList.add("show")})),navOpenedButton.addEventListener("click",(function(){headerNav.classList.contains("header__nav--opened")&&(headerNav.classList.remove("header__nav--opened"),document.body.classList.remove("no-scroll"),overlay.classList.remove("show"))}));const catalogList=document.querySelector(".catalog__list");function clearCards(){for(;catalogList.firstChild;)catalogList.removeChild(catalogList.firstChild)}const catalogItem=document.querySelector(".catalog__item");function renderCards(e){const t=document.createDocumentFragment();for(let a=0;a<e.length;a++)t.appendChild(renderElement(e[a]));catalogList.appendChild(t)}function renderElement(e){let t=catalogItem.cloneNode(!0);t.querySelector(".catalog__image").src="img/"+e.img;let a=e.price.toLocaleString("ru-RU");return t.querySelector(".catalog__item-price").textContent=a+" руб.",t.querySelector(".catalog__item-age").textContent=e.age+" мес.",e.discount?t.classList.add("catalog__item--discount"):t.classList.contains("catalog__item--discount")&&t.classList.remove("catalog__item--discount"),t.querySelector(".catalog__item-favorites").className="catalog__item-favorites",e.sold&&t.classList.add("catalog__item--sold"),t}const favoritesButtons=document.querySelectorAll(".catalog__item-favorites"),modalNote=document.querySelector(".note__wrapper");favoritesButtons.forEach(e=>{e.addEventListener("click",(function(){modalNote.classList.contains("note__wrapper--active")&&modalNote.classList.remove("note__wrapper--active");e.offsetWidth;e.classList.contains("catalog__item-favorites--active")?e.classList.remove("catalog__item-favorites--active"):(e.classList.add("catalog__item-favorites--active"),modalNote.classList.add("note__wrapper--active"))}))});const sortPriceButton=document.querySelector(".catalog__sort-price");sortPriceButton.addEventListener("click",(function(){let e=cats.sort((function(e,t){return e.price-t.price}));clearCards(),renderCards(e);let t=document.querySelectorAll(".catalog__item-favorites"),a=document.querySelector(".note__wrapper");t.forEach(e=>{e.addEventListener("click",(function(){a.classList.contains("note__wrapper--active")&&a.classList.remove("note__wrapper--active");e.offsetWidth;e.classList.contains("catalog__item-favorites--active")?e.classList.remove("catalog__item-favorites--active"):(e.classList.add("catalog__item-favorites--active"),a.classList.add("note__wrapper--active"))}))})}));const sortAgeButton=document.querySelector(".catalog__sort-age");sortAgeButton.addEventListener("click",(function(){let e=cats.sort((function(e,t){return e.age-t.age}));clearCards(),renderCards(e);let t=document.querySelectorAll(".catalog__item-favorites"),a=document.querySelector(".note__wrapper");t.forEach(e=>{e.addEventListener("click",(function(){a.classList.contains("note__wrapper--active")&&a.classList.remove("note__wrapper--active");e.offsetWidth;e.classList.contains("catalog__item-favorites--active")?e.classList.remove("catalog__item-favorites--active"):(e.classList.add("catalog__item-favorites--active"),a.classList.add("note__wrapper--active"))}))})}));const scrollButton=document.querySelector(".scroll-up__button"),TO_SCROLL_HEIGHT=500;window.addEventListener("scroll",(function(){pageYOffset>800?scrollButton.style.opacity=1:scrollButton.style.opacity=0})),scrollButton.addEventListener("click",(function(){window.scrollTo(pageXOffset,0)}));